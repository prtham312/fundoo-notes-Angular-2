<app-toolbar
  (menuClicked)="isSidenavOpen = !isSidenavOpen"
  [viewMode]="viewMode"
  (toggleView)="toggleViewMode()"
></app-toolbar>

<mat-sidenav-container class="sidenav-container">
  <mat-sidenav
    mode="side"
    [opened]="true"
    [class.mat-drawer-collapsed]="!sidenavOpened && !isHovered"
    (mouseenter)="onMouseEnterSidenav()"
    (mouseleave)="onMouseLeaveSidenav()"
    class="custom-sidenav"
  >
    <app-sidenav></app-sidenav>
  </mat-sidenav>

  <mat-sidenav-content>
    <div class="dashboard-content">

      <!-- ✅ Notes Section -->
      <ng-container *ngIf="currentSection === 'notes'">
        <app-note-input
          (noteCreated)="onNoteCreated($event)">
        </app-note-input>

        <div *ngIf="notes.length === 0" class="empty-notes-placeholder">
          <mat-icon class="empty-icon">lightbulb_outline</mat-icon>
          <p class="empty-message">Notes you add appear here</p>
        </div>

        <div class="notes-container" [ngClass]="viewMode">
          <app-note-card
            *ngFor="let note of notes"
            [id]="note.id"
            [title]="note.title"
            [description]="note.description"
            [color]="note.color || '#fff'"
            (archived)="onNoteArchived()">
          </app-note-card>
        </div>
      </ng-container>

      <!-- ✅ Archive Section (with list/grid view) -->
      <app-archive
        *ngIf="currentSection === 'archive'"
        [viewMode]="viewMode">
      </app-archive>

      <!-- 🔁 Similarly add for trash, reminders, labels -->

    </div>
  </mat-sidenav-content>
</mat-sidenav-container>
